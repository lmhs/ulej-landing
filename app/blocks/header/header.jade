include ../logo/logo
include ../dark/dark
include ../title/title
include ../social/social

include ../description/description
include ../sticker-link/sticker-link

mixin header()
	svg.svg-defs
		defs
			clippath#clipping-tile
				path(fill='none', stroke='#979797', d='M115.207 4.697c-8.782-4.93-19.6-4.93-28.38 0L15.19 44.9C6.408 49.83 1 58.937 1 68.797v80.408c0 9.858 5.408 18.966 14.19 23.895l71.636 40.204c8.78 4.928 19.6 4.928 28.38 0l71.637-40.205c8.78-4.93 14.19-14.04 14.19-23.898V68.796c0-9.86-5.41-18.967-14.19-23.895L115.207 4.7z')
			clipPath#clipping-bg
				path(fill='#06B7C5', x='50%', y='50%', transform='translate(350,120)', fill-rule='evenodd', d='M1040.558 389.724l-401.093 227.37c-49.17 27.875-109.746 27.875-158.907 0L79.465 389.724C30.295 361.85.01 310.336.01 254.588V0h1120v254.588c0 55.748-30.29 107.26-79.452 135.136z').clipping-bg
			linearGradient#gradient(x1='92%', y1='0%', x2='8%', y2='100%')
				stop(offset='0%', style='stop-color:rgb(0,0,0);stop-opacity:0')
				stop(offset='100%', style='stop-color:rgb(19,8,6);stop-opacity:0.5')
			linearGradient#gradient2(x1='92%', y1='0%', x2='8%', y2='100%')
				stop(offset='0%', style='stop-color:rgb(255,255,255);stop-opacity:1')
				stop(offset='100%', style='stop-color:rgb(19,8,6);stop-opacity:1')
			filter#blurry
				feGaussianBlur(stdDeviation='50')


	+popup({
						jsClass:'js-what-is-popup',
						heading: 'Что такое',
						strong: 'краудфандинг?',
						type: 'what-is'
	})
	+popup({
						jsClass:'js-callback-popup',
						heading: 'звонок',
						strong: 'Обратный',
						type: 'callback'
	}).popup--callback
	+popup({
						jsClass:'js-send-popup',
						heading: 'о проекте',
						strong: 'Рассказать',
						type: 'send'
	}).popup--send
	+popup({
						jsClass:'js-callback-message-popup',
						heading: 'Спасибо!',
						type: 'message',
						message: 'Очень-очень скоро мы перезвоним вам! :)'
	}).popup--message
	+popup({
						jsClass:'js-send-message-popup',
						heading: 'Большое спасибо за уделeнное время!',
						type: 'message',
						message: 'Совсем скоро с вами свяжется наш менеджер, и мы начнем обсуждение проекта.'
	}).popup--message

	+b.header&attributes(attributes)
		+e.inner
			+e.bg-clip
				+icon('green').bg-green
				+e('svg')(width='1120', height='640').bg-img-clip
					rect(width='770',height='440',x='50%',y='50%',transform='translate(-350,-120)', fill='url(#gradient2)', clip-path='url(#clipping-bg)').tile__gradient.js-change-svg-position
					image(width='770', height='440', x='50%', y='50%', xlink:href='./assets/images/Main-01-small.jpg', transform='translate(-350,-120)', clip-path='url(#clipping-bg)').tile-header__image.tile-header__image--small.tile-header__image--is-loaded.js-main-bg-image-small.js-change-svg-position
					image(width='770', height='440', x='50%', y='50%', xlink:href='./assets/images/Main-01.jpg', transform='translate(-350,-120)', clip-path='url(#clipping-bg)').tile-header__image.js-main-bg-image.js-change-svg-position
					rect(width='770',height='440',x='50%',y='50%',transform='translate(-350,-120)', fill='url(#gradient)', clip-path='url(#clipping-bg)').tile__gradient.js-change-svg-position
				script(type='text/javascript').
					(function(){
						var d = document,
								e = d.documentElement,
								g = d.getElementsByTagName('body')[0],
								x = e.clientWidth || g.clientWidth,
								y = e.clientHeight|| g.clientHeight,
								svgPos = d.querySelectorAll('.js-change-svg-position'),
								clip = d.querySelectorAll('.clipping-bg')[0],
								svgElement = d.querySelectorAll('.header__bg-img-clip')[0];

						if (x >= 720) {
							for (var i=0; i < svgPos.length; i++) {
								svgPos[i].setAttribute('width', '1120');
								svgPos[i].setAttribute('height', '640');
								svgPos[i].setAttribute('transform', 'translate(-560,-320)');
								svgPos[i].setAttribute('x', '50%');
								svgPos[i].setAttribute('y', '50%');
								}
							clip.setAttribute('transform', 'translate(560,320)');
							clip.setAttribute('x', '50%');
							clip.setAttribute('y', '50%');
						}
						svgElement.classList.add('bg-img-clip--is-visible');
						svgElement.style.willChange = 'auto';

					})()
				+e('h1').heading Финансирование проектов в Улье
					small Ulej.by&nbsp;&mdash; первая в Беларуси краудфандинговая площадка.
				+social()
				+sticker-link().header__sticker-link.js-open-what-is
				+logo
				+b.help-block
					+e.text Звоните нам!
					+e('a')(href='tel:+375291323123').phone +375 (29) 132-31-23
					+e.text
						| Вы также !{''}
						a(href=jv0).link.js-open-callback можете заказать звонок
						|  от нашего консультанта.
			+e.content
				+box()
					+e.subheader
						+e('h2').subheading.heading
							| За полгода активной работы Улья
							br
							| общая сумма финансирования составила !{''}
							strong 700&nbsp;000&nbsp;000
							| &nbsp;рублей.
					+e('img')(src='./assets/images/header-hexagon-items.png',
								srcset='./assets/images/header-hexagon-items@2x.png 2x, ./assets/images/header-hexagon-items.png 1x'
								).hexagon-items
					+e.subsection
						+b.half-subsection.half-subsection--left
							+e.content
								+e.strong 1&nbsp;700
								+e.description Умных
									br
									| инвесторов
						+b.half-subsection.half-subsection--right
							+e.content
								+e.strong 15
								+e.description Категорий
									br
									| проектов


